<!--  Start Login Page -->
<div class="overflow-hidden front_form">
    <div class="row g-0">
        <div class="d-none d-md-flex col-md-6 login_bg">
            <div class="front_logo">
                <img src="<%= asset_path('logo.svg') %>" alt="Sbrigit" width="249"/>
            </div>
        </div>
        <div class="col-md-6">
            <div class="d-flex flex-column align-items-start justify-content-center px-3 px-md-5 min-vh-100">
                <%= form_for(resource, as: resource_name, url: session_path(resource_name) ,validate: true) do |f| %>
                    <%= render "devise/shared/error_messages", resource: resource %>

                    <div class="ls_form">
                        <div class="d-md-none front_logo">
                            <img src="<%= asset_path('logo.svg') %>" alt="Sbrigit" width="249"/>
                        </div>
                        <div class="title_group text-left mb-4 pb-3">
                            <h1 class="h1 mb-3">Login</h1>
                        </div>

                        <div class="mb-4">
                            <div class="position-relative">
                                <%= f.email_field :email, autofocus: true , class: "form-control", placeholder: "Enter email", required: true %>
                                <div class="invalid-feedback" id="email-error"></div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <div class="position-relative">
                                <%= f.password_field :password,  autofocus: true ,class: "form-control", placeholder: "Password", required: true, id: "pwd" %>
                                <div class="invalid-feedback" id="password-error"></div>
                                <button type="button" class="show_hide_pwd" onclick="show()">
                                    <img src="<%= asset_path('icons/hide_password.svg') %>" id="EYE" width="16"/>
                                </button>
                            </div>


                        </div>

                        <div class="mb-4 text-end">
                            <%= link_to 'Forgot Password?', new_user_password_path %>
                        </div>


                        <div class="pt-3">
                            <%=  f.submit "Login", class: "py-md-3 w-100 btn btn-lg btn-primary", type: "submit" %>
                        </div>

                    </div>
                    <%end%>
                </div>
            </div>
        </div>
    </div>


    <script>
        const emailInput = document.querySelector("#user_email");
        //const passwordInput = document.querySelector("#user_password");
        const modelUserEmail = "admin.fian@mailinator.com"; // change to your model user email
        //const modelUserPassword = "12345678"; // change to your model user password

        const passwordInput = document.querySelector('#pwd');
        const passwordError = document.querySelector('#password-error');
        const modelUserPassword = '12345678'; // Replace with your actual model user password
                
         
         
        emailInput.addEventListener("input", function () {
            if (emailInput.validity.valid) {
                if (emailInput.value === modelUserEmail) {
                    emailInput.classList.remove("is-invalid");
                    emailInput.classList.add("is-valid");
                    document.querySelector("#email-error").textContent = "";
                    document.querySelector("#email-valid").textContent = "Looks good!";
                } else {
                    emailInput.classList.remove("is-valid");
                    emailInput.classList.add("is-invalid");
                    document.querySelector("#email-error").textContent = "Email not found";
                    document.querySelector("#email-valid").textContent = "";
                }
            } else {
                emailInput.classList.remove("is-valid");
                emailInput.classList.add("is-invalid");
                document.querySelector("#email-error").textContent = "Please enter a valid email";
                document.querySelector("#email-valid").textContent = "";
            }
        });
`   `
        
        passwordInput.addEventListener('input', function () {
        if (passwordInput.validity.valid) {
            if (passwordInput.value === modelUserPassword) {
            passwordInput.classList.remove('is-invalid');
            passwordInput.classList.add('is-valid');
            passwordError.textContent = ''; // Clear error message
            } else {
            passwordInput.classList.remove('is-valid');
            passwordInput.classList.add('is-invalid');
            passwordError.textContent = 'Invalid password';
            }
        // } else {
        //     passwordInput.classList.remove('is-valid');
        //     passwordInput.classList.add('is-invalid');
        //     if (passwordInput.validity.valueMissing) {
        //     passwordError.textContent = 'Please enter a password';
        //     } else if (passwordInput.validity.tooShort) {
        //     passwordError.textContent = 'Password must be at least 8 characters long';
        //     } else if (passwordInput.validity.patternMismatch) {
        //     passwordError.textContent = 'Password must contain at least one uppercase letter, one lowercase letter, and one digit';
        //     }
        }
        });



        // document.querySelector("#login-form").addEventListener("submit", function (event) {
        //     event.preventDefault(); // Prevent the form from submitting

        //     if (emailInput.value === modelUserEmail && passwordInput.value === modelUserPassword) {
        //         alert("Login successful!"); // Replace this with your actual login code
        //     } else {
        //         alert("Invalid email or password"); // Replace this with your actual error message
        //     }
        // });



        function show() {
            const passwordInputType = passwordInput.getAttribute('type');
            const eye = document.querySelector('#EYE');
            
            if (passwordInputType === 'password') {
                passwordInput.setAttribute('type', 'text');
                eye.setAttribute('src', '<%= asset_path('icons/show_password.svg') %>');
            } else {
                passwordInput.setAttribute('type', 'password');
                eye.setAttribute('src', '<%= asset_path('icons/hide_password.svg') %>');
            }
            }

    </script>


    <!--  End Login Page -->

    <!-- Script -->
    <!-- JavaScript Libraries --><script src="https://code.jquery.com/jquery-3.4.1.min.js"> </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Template Javascript -->
    <script src="<%= asset_path('main.js') %>"></script>
 

   